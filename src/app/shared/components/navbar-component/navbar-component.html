<nav class="p-4 flex items-center justify-between">
  <!-- left -->
  <!-- Collapsle Button -->

  <div class="flex items-center gap-2">
    <!-- Collapse Button -->

    <button
      (click)="onToggleSidebar()"
      [class]="{
        'rounded-lg border border-border bg-white border-rounded': sideBarService.open(),
        'rounded-lg': !sideBarService.open(),
      }"
    >
      <ng-icon name="lucideMenu" />
    </button>
  </div>
  <!-- right -->

  <div class="flex items-center gap-4">
    <!-- bread crumb -->
    <app-bread-crumb-component></app-bread-crumb-component>
    <!-- toggle dark mode -->
    <div>
      <button class="icon-container" (click)="toggleTheme()">
        @if (!isDark) {
          <!-- Light mode → show moon -->
          <ng-icon name="lucideMoon" />
        } @else {
          <!-- Dark mode → show sun -->
          <ng-icon name="lucideSun" class="" />
        }
      </button>
    </div>
    <!-- bellIcon -->
    <div class="icon-container">
      <ng-icon name="lucideBell" color="headingsA" />
    </div>
    <!-- avatar -->
    <hlm-avatar variant="large" [hlmDropdownMenuTrigger]="menu" class="bg-secondary text-primary">
      <img
        src="/assets/avatar.png"
        alt="spartan logo. Resembling a spartanic shield"
        hlmAvatarImage
      />
      <span hlmAvatarFallback>RG</span>
    </hlm-avatar>

    <!-- dropdown -->
    <ng-template #menu>
      <hlm-dropdown-menu class="w-36 mr-2">
        <!-- Header label from the group -->
        <hlm-dropdown-menu-label>
          {{ accountMenuItems[0].label }}
        </hlm-dropdown-menu-label>

        <!-- First group items -->
        <hlm-dropdown-menu-group>
          @for (item of accountMenuItems[0].items; track item.key) {
            <button hlmDropdownMenuItem (click)="onMenuSelect(item.key)">
              <span>{{ item.label }}</span>
              @if (item.shortcut) {
                <hlm-dropdown-menu-shortcut>
                  {{ item.shortcut }}
                </hlm-dropdown-menu-shortcut>
              }
            </button>
          }
        </hlm-dropdown-menu-group>

        <hlm-dropdown-menu-separator />

        <!-- Second group (if you have one, e.g. Support) -->
        @if (accountMenuItems.length > 1) {
          <hlm-dropdown-menu-group>
            @for (item of accountMenuItems[1].items; track item.key) {
              <button hlmDropdownMenuItem>
                <span>{{ item.label }}</span>
                @if (item.shortcut) {
                  <hlm-dropdown-menu-shortcut>
                    {{ item.shortcut }}
                  </hlm-dropdown-menu-shortcut>
                }
              </button>
            }
          </hlm-dropdown-menu-group>

          <hlm-dropdown-menu-separator />
        }

        <!-- Logout -->
        <button
          hlmDropdownMenuItem
          variant="destructive"
          (click)="onMenuSelect(logoutMenuItem.key)"
        >
          <span>{{ logoutMenuItem.label }}</span>
          <hlm-dropdown-menu-shortcut>
            {{ logoutMenuItem.shortcut }}
          </hlm-dropdown-menu-shortcut>
        </button>
      </hlm-dropdown-menu>
    </ng-template>
  </div>
</nav>
